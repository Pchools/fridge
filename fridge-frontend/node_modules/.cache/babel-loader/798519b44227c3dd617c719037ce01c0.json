{"ast":null,"code":"import _defineProperty from \"C:\\\\Users\\\\Pchal\\\\cs_projects\\\\fridge\\\\fridge-frontend\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"C:\\\\Users\\\\Pchal\\\\cs_projects\\\\fridge\\\\fridge-frontend\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\Pchal\\\\cs_projects\\\\fridge\\\\fridge-frontend\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\Pchal\\\\cs_projects\\\\fridge\\\\fridge-frontend\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\Pchal\\\\cs_projects\\\\fridge\\\\fridge-frontend\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\Pchal\\\\cs_projects\\\\fridge\\\\fridge-frontend\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"C:\\\\Users\\\\Pchal\\\\cs_projects\\\\fridge\\\\fridge-frontend\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"C:\\\\Users\\\\Pchal\\\\cs_projects\\\\fridge\\\\fridge-frontend\\\\src\\\\components\\\\login.js\";\nimport React, { Component } from 'react';\nimport { Form, Button, FormGroup, FormControl, FormLabel } from 'react-bootstrap';\nimport \"./styling/login.css\";\nimport AuthService from './AuthService';\nimport axios from 'axios';\nimport withAuth from './withAuth';\nvar Auth = new AuthService();\n\nvar Login =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Login, _Component);\n\n  function Login(props) {\n    var _this;\n\n    _classCallCheck(this, Login);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Login).call(this, props));\n\n    _this.handleSubmit = function (event) {\n      event.preventDefault();\n\n      _this.Auth.login(_this.state.username, _this.state.password).then(function (res) {\n        _this.props.history.replace('/');\n      }).catch(function (err) {\n        alert(err);\n      });\n    };\n\n    _this.handleChange = function (event) {\n      _this.setState(_defineProperty({}, event.target.id, event.target.value));\n    };\n\n    _this.state = {\n      email: \"\",\n      passwd: \"\"\n    };\n    _this.handleChange = _this.handleChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleFormSubmit = _this.handleFormSubmit.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.Auth = new AuthService();\n    return _this;\n  }\n\n  _createClass(Login, [{\n    key: \"validate\",\n    value: function validate() {\n      return this.state.email.length > 0 && this.state.passwd.length > 0;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        className: \"login\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44\n        },\n        __self: this\n      }, React.createElement(Form, {\n        onSubmit: this.handleSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 45\n        },\n        __self: this\n      }, React.createElement(FormGroup, {\n        controlId: \"email\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46\n        },\n        __self: this\n      }, React.createElement(FormLabel, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47\n        },\n        __self: this\n      }, \"Email address\"), React.createElement(FormControl, {\n        autoFocus: true,\n        type: \"email\",\n        placeholder: \"Enter email\",\n        onChange: this.handleChange,\n        value: this.state.email,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48\n        },\n        __self: this\n      })), React.createElement(FormGroup, {\n        controlId: \"passwd\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      }, React.createElement(FormLabel, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      }, \"Password\"), React.createElement(FormControl, {\n        type: \"password\",\n        placeholder: \"Password\",\n        onChange: this.handleChange,\n        value: this.state.passwd,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      })), React.createElement(Button, {\n        block: true,\n        type: \"submit\",\n        disabled: !this.validate(),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }, \"Login\")));\n    }\n  }]);\n\n  return Login;\n}(Component);\n\nexport default Login;","map":{"version":3,"sources":["C:\\Users\\Pchal\\cs_projects\\fridge\\fridge-frontend\\src\\components\\login.js"],"names":["React","Component","Form","Button","FormGroup","FormControl","FormLabel","AuthService","axios","withAuth","Auth","Login","props","handleSubmit","event","preventDefault","login","state","username","password","then","res","history","replace","catch","err","alert","handleChange","setState","target","id","value","email","passwd","bind","handleFormSubmit","length","validate"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { Form, Button, FormGroup, FormControl, FormLabel } from 'react-bootstrap';\r\nimport \"./styling/login.css\";\r\nimport AuthService from './AuthService';\r\nimport axios from 'axios';\r\nimport withAuth from './withAuth';\r\nconst Auth = new AuthService();\r\n\r\nclass Login extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      email: \"\",\r\n      passwd: \"\"\r\n    };\r\n    this.handleChange = this.handleChange.bind(this);\r\n    this.handleFormSubmit = this.handleFormSubmit.bind(this);\r\n    this.Auth = new AuthService();\r\n  }\r\n\r\n  validate() {\r\n    return this.state.email.length > 0 && this.state.passwd.length > 0;\r\n  }\r\n\r\n  handleSubmit = (event) => {\r\n    event.preventDefault();\r\n    this.Auth.login(this.state.username,this.state.password)\r\n            .then(res =>{\r\n               this.props.history.replace('/');\r\n            })\r\n            .catch(err =>{\r\n                alert(err);\r\n            })\r\n  }\r\n\r\n  handleChange = (event) => {\r\n    this.setState({\r\n      [event.target.id]: event.target.value\r\n    });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"login\">\r\n        <Form onSubmit={this.handleSubmit}>\r\n          <FormGroup controlId=\"email\">\r\n            <FormLabel>Email address</FormLabel>\r\n            <FormControl\r\n              autoFocus\r\n              type=\"email\"\r\n              placeholder=\"Enter email\"\r\n              onChange={this.handleChange}\r\n              value={this.state.email}\r\n              />\r\n          </FormGroup>\r\n          <FormGroup controlId=\"passwd\">\r\n            <FormLabel>Password</FormLabel>\r\n            <FormControl\r\n              type=\"password\"\r\n              placeholder=\"Password\"\r\n              onChange={this.handleChange}\r\n              value={this.state.passwd}\r\n              />\r\n          </FormGroup>\r\n          <Button block type=\"submit\" disabled={!this.validate()}>\r\n            Login\r\n          </Button>\r\n        </Form>\r\n      </div>\r\n    );\r\n  }\r\n\r\n\r\n}\r\n\r\nexport default Login;\r\n"]},"metadata":{},"sourceType":"module"}